(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s.n(n),o=s(31),i=s.n(o),a=s(13),r=s(4),l=s(1);function u(e){var t=e.logout;return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)(a.b,{to:"/profile",children:"profile"}),Object(l.jsx)(a.b,{to:"/public",children:"all issues"}),Object(l.jsx)("button",{className:"logout-btn",onClick:t,children:"logout"})]})}var m=s(10),d=s(3),j=s(5);function b(e){var t=e.handleChange,s=e.handleSubmit,n=e.btnText,c=e.errMsg,o=e.inputs,i=o.username,a=o.password;return Object(l.jsxs)("form",{className:"auth-form",onSubmit:s,children:[Object(l.jsx)("h1",{className:"app-title",children:"RTV App"}),Object(l.jsx)("input",{type:"text",value:i,name:"username",onChange:t,placeholder:"Username"}),Object(l.jsx)("input",{type:"text",value:a,name:"password",onChange:t,placeholder:"Password"}),Object(l.jsx)("button",{className:"sign-up-btn",children:n}),Object(l.jsx)("p",{style:{color:"red"},children:c})]})}var O=s(17),h=s.n(O),f=c.a.createContext({});function p(e){var t={user:JSON.parse(localStorage.getItem("user"))||{},token:localStorage.getItem("token")||"",userIssues:[],comments:[],errMsg:""},s=Object(n.useState)(t),c=Object(j.a)(s,2),o=c[0],i=c[1];function a(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{errMsg:e})}))}return Object(l.jsx)(f.Provider,{value:Object(d.a)(Object(d.a)({},o),{},{signup:function(e){h.a.post("/auth/signup",e).then((function(e){var t=e.data,s=t.user,n=t.token;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{user:s,token:n})}))})).catch((function(e){return a(e.response.data.errMsg)}))},login:function(e){h.a.post("/auth/login",e).then((function(e){var t=e.data,s=t.user,n=t.token;console.log("login user, token from UserProvider",e.data),localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),console.log("getUserIssues from UserProvider"),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{user:s,token:n})}))})).catch((function(e){return a(e.response.data.errMsg)}))},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),i({user:{},token:"",userIssues:[]})},resetAuthErr:function(){i((function(e){return Object(d.a)(Object(d.a)({},e),{},{errMsg:""})}))}}),children:e.children})}h.a.create().interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer ".concat(t),e}));var x={username:"",password:""};function g(){var e=Object(n.useState)(x),t=Object(j.a)(e,2),s=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(j.a)(o,2),a=i[0],r=i[1],u=Object(n.useContext)(f),O=u.signup,h=u.login,p=u.errMsg,g=u.resetAuthErr;function v(e){var t=e.target,s=t.name,n=t.value;c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},s,n))}))}function N(){r((function(e){return!e})),g()}return Object(l.jsx)("div",{className:"auth-container",children:a?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{handleChange:v,handleSubmit:function(e){e.preventDefault(),h(s)},inputs:s,btnText:"Login",errMsg:p}),Object(l.jsx)("p",{onClick:N,className:"member-or-not",children:"Not a member?"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{handleChange:v,handleSubmit:function(e){e.preventDefault(),O(s)},inputs:s,btnText:"Sign up",errMsg:p}),Object(l.jsx)("p",{onClick:N,className:"member-or-not",children:"Already a member?"}),Object(l.jsxs)("div",{className:"sign-in-instructions",children:[Object(l.jsx)("div",{className:"title-instructions",children:"SIGN-IN"}),Object(l.jsx)("div",{className:"instruct",children:'Click the "Already a member?" button'}),Object(l.jsx)("div",{className:"instruct",children:"and login with the following:"}),Object(l.jsx)("div",{className:"login-instruct",children:"username: guest"}),Object(l.jsx)("div",{className:"login-instruct",children:"password: guest"})]})]})})}var v={title:"",description:""};function N(e){var t=Object(n.useState)(v),s=Object(j.a)(t,2),c=s[0],o=s[1],i=e.addIssue;function a(e){var t=e.target,s=t.name,n=t.value;o((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},s,n))}))}var r=c.title,u=c.description;return Object(l.jsxs)("form",{className:"issue-form",onSubmit:function(e){e.preventDefault(),i(c),console.log("inputs from addIssue",c),o(v)},children:[Object(l.jsx)("h3",{className:"add-issue-form-header",children:"add an issue for discussion"}),Object(l.jsx)("input",{type:"text",name:"title",value:r,onChange:a,placeholder:"title"}),Object(l.jsx)("input",{type:"text",name:"description",value:u,onChange:a,placeholder:"description"}),Object(l.jsx)("button",{className:"add-issue-btn",children:"submit issue"})]})}var C=s(9),I=c.a.createContext({}),y=h.a.create();function S(e){var t={user:JSON.parse(localStorage.getItem("user"))||{},token:localStorage.getItem("token")||"",userIssues:[],issues:[],comments:[],errMsg:""},s=Object(n.useState)(t),c=Object(j.a)(s,2),o=c[0],i=c[1];function a(){y.get("/api/issue").then((function(e){console.log("res from issueCommentProvider:",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issues:e.data})})),console.log("issues from getIssues",e.data)})).catch((function(e){return console.log(e.response.data.errMsg)}))}function r(e,t){var s={commentText:e,_issue:t};console.log("commentAdd:",s),y.post("/api/comment",s).then((function(e){console.log("addComment res",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.issues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}return Object(l.jsx)(I.Provider,{value:Object(d.a)(Object(d.a)({},o),{},{getUserIssues:function(){y.get("/api/issue/user").then((function(e){console.log(e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{userIssues:e.data})})),console.log("userIssues from getUserIssues",e.data)})).catch((function(e){return console.log(e.response.data.errMsg)}))},voterUpVote:function(e){console.log("issueId for upVote:",e),y.put("/api/issue/voter/vote/".concat(e)).then((function(t){console.log("upVote res:",t),1===t.data.nModified&&function(e){console.log("issueId for upVote:",e),y.put("/api/issue/upvote/".concat(e)).then((function(e){console.log("upVote res:",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.userIssues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}(e),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{issueState:[].concat(Object(C.a)(e.userIssues),[t.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},voterDownVote:function(e){console.log("issueId for upVote:",e),y.put("/api/issue/voter/vote/".concat(e)).then((function(t){1===t.data.nModified&&function(e){console.log("issueId for downVote:",e),y.put("/api/issue/downvote/".concat(e)).then((function(e){console.log("downVote res:",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.userIssues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}(e),console.log("upVote res:",t),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{issueState:[].concat(Object(C.a)(e.userIssues),[t.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},calcNetVotes:function(e,t){return console.log("upVotes",e),console.log("downVotes",t),e-t},addIssue:function(e){y.post("/api/issue",e).then((function(e){console.log(e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.userIssues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},deleteIssue:function(e){console.log("issueId:",e),y.delete("/api/issue/".concat(e)).then((function(t){i((function(t){return{userIssues:t.userIssues.filter((function(t){return t._id!==e}))}})),a()})).catch((function(e){return console.log(e.response.data.errMsg)}))},editIssue:function(e,t){console.log("issueId to be edited",t),console.log("inputs for edit",e),y.put("/api/issue/".concat(t),e).then((function(e){i((function(s){return s.userIssues.map((function(s){return s._id!==t?s:e.data}))}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},getComments:function(){y.get("/api/comment").then((function(e){console.log(e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{comments:e.data})})),console.log("comments from getComments",e.data)})).catch((function(e){return console.log(e.response.data.errMsg)}))},addComment:r,combinedAddComment:function(e,t){var s;r(e,t),s=t,console.log("_issue from addCommentTally:",s),y.put("/api/issue/increment/".concat(s),s).then((function(e){console.log("addComment res",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.issues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},deleteComment:function(e,t){console.log("issueId:",t),console.log("commentId:",e),y.delete("/api/comment/".concat(e)).then((function(s){i((function(t){return{issues:t.issues.filter((function(t){return t._comment!==e}))}})),function(e,t){var s={_issue:t};console.log("comment._id to delete:",e),console.log("issue to update the comments array in:",t),y.put("/api/comment/deleteCommentFromIssue/".concat(e),s).then((function(e){console.log("getting rid of _comments id ref in issue collection")})).catch((function(e){return console.log(e.response.data.errMsg)}))}(e,t),function(e){console.log("_issue from minusCommentTally:",e),y.put("/api/issue/decrement/".concat(e)).then((function(e){console.log("minusComment res",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.issues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}(t)})).catch((function(e){return console.log(e.response.data.errMsg)}))},commentUpVote:function(e){console.log("commentId for upVote:",e),y.put("/api/comment/voter/onlyonce/".concat(e)).then((function(t){console.log("upVote res:",t),1===t.data.nModified&&function(e){console.log("commentId for upVote:",e),y.put("/api/comment/upvoteit/".concat(e)).then((function(e){console.log("upVote res:",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.userIssues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}(e),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{issueState:[].concat(Object(C.a)(e.issues),[t.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},commentDownVote:function(e){console.log("commentId for downVote:",e),y.put("/api/comment/voter/onlyonce/".concat(e)).then((function(t){1===t.data.nModified&&function(e){console.log("commentId for downVote:",e),y.put("/api/comment/downvoteit/".concat(e)).then((function(e){console.log("downVote res:",e),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{issueState:[].concat(Object(C.a)(t.userIssues),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}(e),console.log("downVote res:",t),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{issueState:[].concat(Object(C.a)(e.issues),[t.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},editComment:function(e,t){console.log("commentId to be edited",t),console.log("inputs for edit",e),y.put("/api/comment/".concat(t),e).then((function(e){i((function(s){return s.issues.map((function(s){return s._comment!==t?s.userComment:e.data}))}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},getIssues:a}),children:e.children})}y.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer ".concat(t),e}));var _=s(16),V=s(7),k=s(11);function w(e){var t=Object(n.useContext)(I),s=t.deleteIssue,c=t.editIssue,o=Object(n.useState)(!1),i=Object(j.a)(o,2),a=i[0],r=i[1],u=Object(n.useState)(""),b=Object(j.a)(u,2),O=b[0],h=b[1];function f(){r((function(e){return!e}))}function p(e){var t=e.target,s=t.name,n=t.value;h((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},s,n))}))}return Object(l.jsx)("div",{className:"profile-container",children:Object(l.jsxs)("div",{className:"user-issue-container",children:[Object(l.jsxs)("div",{className:"issue",children:[Object(l.jsxs)("div",{className:"my-profile-issue-tallies",children:[Object(l.jsxs)("h3",{className:"total-votes",children:[Object(l.jsx)(V.c,{size:20,style:{fill:"rgb(253, 201, 31)"}})," ",Object(l.jsxs)("span",{className:"tallies-top",children:[e.totalVotersVotedCount,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"my-issue-upvotes",children:[Object(l.jsx)(V.b,{size:20,style:{fill:"rgb(253, 201, 31)"}}),Object(l.jsxs)("span",{className:"tallies-top",children:[e.upVotes,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"my-issue-downvotes",children:[Object(l.jsx)(V.a,{size:20,style:{fill:"rgb(253, 201, 31)"}})," ",Object(l.jsxs)("span",{className:"tallies-top",children:[e.downVotes,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"my-issue-number-comments",children:[Object(l.jsx)(k.a,{size:20,style:{fill:"rgb(253, 201, 31)"}}),Object(l.jsxs)("span",{className:"tallies-top",children:[e.numberCommentsOnIssue,"\xa0"]})]})]}),Object(l.jsxs)("div",{className:"my-issue-descr-titles",children:[Object(l.jsxs)("h1",{className:"issue-title-mine",children:[Object(l.jsx)("span",{className:"my-issue-title",children:"title"})," "]}),Object(l.jsx)("h1",{className:"issue-title-mine-text",children:e.title}),Object(l.jsx)("h3",{className:"issue-description-mine",children:Object(l.jsx)("span",{className:"my-issue-descr",children:"description"})}),Object(l.jsx)("h3",{className:"issue-description-mine-text",children:Object(l.jsx)("span",{className:"my-descr-text",children:e.description})})]}),Object(l.jsxs)("div",{className:"edit-delete-issue-buttons",children:[Object(l.jsx)("button",{className:"delete-issue-btn",onClick:function(){return s(e._id)},children:"delete issue"}),Object(l.jsx)("button",{className:"edit-issue-btn",onClick:f,children:"edit issue"})]})]}),a?Object(l.jsx)("div",{className:"outline-edit-issue-form",id:e._id,index:e.index,children:Object(l.jsxs)("form",{className:"edit-issue-form",onSubmit:function(){return c(O,e._id)},children:[Object(l.jsx)("input",{type:"text",defaultValue:e.title,inputs:e.title||O,name:"title",onChange:p,placeholder:"Title"}),Object(l.jsx)("input",{type:"text",defaultValue:e.description,inputs:e.description||O,name:"description",onChange:p,placeholder:"Description"}),Object(l.jsxs)("div",{className:"edit-issue-form-btns",children:[Object(l.jsx)("button",{className:"submit-issue-edit-btn",children:"submit edit"}),Object(l.jsx)("button",{className:"cancel-issue-edit-btn",onClick:f,children:Object(l.jsx)(_.a,{size:22,style:{fill:"white"}})})]})]})}):Object(l.jsx)("div",{children:null})]},e._id)})}function M(e){var t=e.userIssues;return Object(l.jsx)("div",{className:"user-issue-list",children:t.map((function(e){return Object(n.createElement)(w,Object(d.a)(Object(d.a)({},e),{},{key:e._id}))}))})}function T(){var e=Object(n.useContext)(f).user.username,t=Object(n.useContext)(I),s=t.addIssue,c=t.issueState,o=t.userIssues,i=t.comments,a=t.getUserIssues,r=t.getIssues,u=t.deleteIssue,m=t.deleteComment;return Object(n.useEffect)((function(){console.log("useEffect triggered"),a(),r()}),[c]),Object(l.jsxs)("div",{className:"profile",children:[Object(l.jsxs)("h1",{className:"welcome-msg",children:["welcome @",e,"!"]}),Object(l.jsx)(N,{addIssue:s}),Object(l.jsxs)("h2",{className:"profile-issues-list-header",children:[e,"'s issues"]}),Object(l.jsx)("div",{className:"issues-list",children:Object(l.jsx)(M,{deleteComment:m,deleteIssue:u,userIssues:o,comments:i})})]})}var z=s.p+"static/media/andres-haro-R6ZJYwBzZx4-unsplash.ed639849.jpg",E={commentText:""};function U(e){var t=Object(n.useState)(E),s=Object(j.a)(t,2),c=s[0],o=s[1],i=Object(n.useContext)(I).combinedAddComment,a=e.toggleToComment,r=e._issue;var u=c.commentText;return Object(l.jsx)("div",{className:"comment-form",children:Object(l.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log("inputs",c),i(u,r),o(E),a()}(e)},children:[Object(l.jsx)("input",{_issue:r,type:"text",name:"commentText",value:u,onChange:function(e){var t=e.target,s=t.name,n=t.value;o((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},s,n))}))},placeholder:"comment text"}),Object(l.jsxs)("div",{className:"comment-form-buttons",children:[Object(l.jsx)("button",{className:"submit-comment-button",children:"Submit Comment"}),Object(l.jsx)("button",{className:"cancel-comment-btn",onClick:a,children:Object(l.jsx)(_.a,{size:22,style:{fill:"white"}})})]})]})})}var A=s(32);function D(e){var t=Object(n.useContext)(I).editComment,s=Object(n.useState)(""),c=Object(j.a)(s,2),o=c[0],i=c[1],a=e.id,r=e._comment,u=e.toggleToEdit;return Object(l.jsx)("div",{index:e.index,children:Object(l.jsxs)("form",{className:"edit-comment-form",onSubmit:function(){return t(o,a)},children:[Object(l.jsx)("input",{type:"text",defaultValue:r.commentText,inputs:r.commentText||o,name:"commentText",onChange:function(e){var t=e.target,s=t.name,n=t.value;i((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},s,n))}))},placeholder:"comment text"}),Object(l.jsxs)("div",{className:"edit-comments-grp-btns",children:[Object(l.jsx)("button",{className:"submit-edited-comment-btn",children:"Submit Edit"}),Object(l.jsx)("button",{className:"cancel-edit-comment-btn",onClick:u,children:Object(l.jsx)(_.a,{size:18,style:{fill:"white"}})})]})]})},e._id)}function F(e){var t=e._comments,s=Object(n.useContext)(f).user.username,c=Object(n.useContext)(I),o=c.calcNetVotes,i=c.commentUpVote,a=c.commentDownVote,r=c.deleteComment,u=Object(n.useState)(""),m=Object(j.a)(u,2),d=m[0],b=m[1];function O(e,t,s){console.log("toggleToEdit index",e),console.log("toggleToEdit postComment._id",t),console.log("toggleToEdit clicked!"),b(t),console.log("isEditing",d)}return Object(l.jsx)("div",{className:"public-comments-container",children:Object(l.jsxs)("h3",{className:"public-comments",children:["comments",t.map((function(e,t){return Object(l.jsxs)("li",{id:e._id,index:t,className:"comment-list-item",children:[Object(l.jsxs)("div",{className:"comment-vote-group-btns",children:[Object(l.jsx)("button",{className:"upvote-comment-btn",onClick:function(){return i(e._id)},children:Object(l.jsx)(V.b,{size:14,style:{fill:"#0F4C75"}})}),Object(l.jsx)("button",{className:"downvote-comment-btn",onClick:function(){return a(e._id)},children:Object(l.jsx)(V.a,{size:14,style:{fill:"#0F4C75"}})})]}),Object(l.jsx)("span",{className:"user-name-span-comment",children:e._user.username}),e.commentText,Object(l.jsx)("span",{className:"comment-votes-span",children:"up:"}),Object(l.jsx)("span",{className:"comment-tallies",children:e.upVotesComments}),Object(l.jsx)("span",{className:"comment-votes-span",children:"down:"}),Object(l.jsx)("span",{className:"comment-tallies",children:e.downVotesComments}),Object(l.jsx)("span",{className:"comment-votes-span",children:"net:"}),Object(l.jsxs)("span",{className:"comment-tallies",children:[o(e.upVotesComments,e.downVotesComments)," "]}),s===e._user.username?Object(l.jsx)("div",{id:e._id,className:"edit-del-comment-btns",children:Object(l.jsxs)("div",{className:"edit-del-btns-group",children:[Object(l.jsx)("button",{className:"delete-comment-btn",onClick:function(){return r(e._id,e._issue)},children:Object(l.jsx)(A.a,{size:15,style:{fill:"royalblue"}})}),Object(l.jsx)("button",{className:"edit-comment-btn",onClick:function(){return O(t,e._id,e._issue)},children:Object(l.jsx)(k.b,{size:15,style:{fill:"royalblue"}})})]})},t):Object(l.jsx)("div",{id:e._id,children:null},t),d===e._id?Object(l.jsxs)("div",{id:e._id,className:"comment-edit-form",children:["\xa0",Object(l.jsx)(D,{id:e._id,_comment:e,toggleToEdit:O},e._id)]},t):Object(l.jsx)("div",{children:null})]},e._id)}))]})})}var P=s(34),J=s(33);function B(e){var t=Object(n.useContext)(I),s=t.voterUpVote,c=t.voterDownVote,o=t.calcNetVotes,i=Object(n.useState)(!1),a=Object(j.a)(i,2),r=a[0],u=a[1],m=Object(n.useState)(!1),d=Object(j.a)(m,2),b=d[0],O=d[1];function h(){console.log("view comments toggled"),O((function(e){return!e}))}function f(){console.log("toggleToComment clicked"),u((function(e){return!e}))}return Object(l.jsx)("div",{className:"all-issues-container",children:Object(l.jsxs)("div",{className:"all-issues",children:[Object(l.jsxs)("div",{className:"tallies",children:[Object(l.jsxs)("h3",{className:"name-posted-by",children:[Object(l.jsx)("span",{className:"posted-by",children:"posted by "}),Object(l.jsx)("span",{className:"user-name-span-issue",children:e._user.username})]}),Object(l.jsxs)("h3",{className:"total-votes-public",children:[Object(l.jsx)(V.c,{size:21,style:{fill:"rgb(253, 201, 31)"}}),Object(l.jsxs)("span",{className:"tallies-top",children:[" ",e.totalVotersVotedCount,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"total-upVotes",children:[Object(l.jsx)(V.b,{size:21,style:{fill:"rgb(253, 201, 31)"}})," ",Object(l.jsxs)("span",{className:"tallies-top",children:[" ",e.upVotes,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"total-downVotes",children:[Object(l.jsx)(V.a,{size:21,style:{fill:"rgb(253, 201, 31)"}}),Object(l.jsxs)("span",{className:"tallies-top",children:[" ",e.downVotes,"\xa0"]})]}),Object(l.jsxs)("h3",{className:"net-votes",children:[Object(l.jsx)(J.a,{size:21,style:{fill:"rgb(253, 201, 31)"}}),Object(l.jsxs)("span",{className:"tallies-top",children:[" ",o(e.upVotes,e.downVotes),"\xa0 "]})," "]}),Object(l.jsxs)("h4",{className:"number-comments",children:[Object(l.jsx)(k.a,{size:21,style:{fill:"rgb(253, 201, 31)"}})," ",Object(l.jsxs)("span",{className:"tallies-top",children:[" ",e.numberCommentsOnIssue]})," "]})]}),Object(l.jsx)("h1",{className:"issue-title",children:Object(l.jsx)("span",{className:"title-issue",children:"title"})}),Object(l.jsx)("h1",{className:"issue-title-text",children:e.title}),Object(l.jsx)("h3",{className:"issue-description",children:Object(l.jsx)("span",{className:"descr-issue",children:"description"})}),Object(l.jsx)("h3",{className:"issue-description-text",children:e.description}),Object(l.jsxs)("div",{className:"comment-related-btns",children:[Object(l.jsxs)("button",{className:"up-vote-btn",onClick:function(){return s(e._id)},children:[" ",Object(l.jsx)(V.b,{size:25,style:{fill:"#0F4C75"}})]}),Object(l.jsxs)("button",{className:"down-vote-btn",onClick:function(){return c(e._id)},children:[" ",Object(l.jsx)(V.a,{size:25,style:{fill:"#0F4C75"}})]}),Object(l.jsx)("img",{className:"arrows",src:z,alt:"arrows",width:"26%",height:"30%"}),r?Object(l.jsx)("div",{id:e._id,className:"comment-form",children:Object(l.jsx)(U,{_issue:e._id,toggleToComment:f})}):Object(l.jsx)("div",{id:e._id,children:Object(l.jsxs)("button",{className:"leave-comment-btn",onClick:f,children:[Object(l.jsx)(k.a,{size:25,style:{fill:"white"}})," leave comment"]})})]}),b?Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{className:"hide-comments-btn",onClick:h,children:[Object(l.jsx)(P.a,{size:25,style:{fill:"#0F4C75"}}),"hide comments"]}),Object(l.jsx)(F,{_comments:e._comments})]}):Object(l.jsx)("div",{children:Object(l.jsxs)("button",{className:"see-comments-btn",onClick:h,children:[" ",Object(l.jsxs)("div",{className:"eye-btn-pieces",children:[Object(l.jsx)(k.c,{size:25,style:{fill:"#0F4C75"}}),"view comments"]})]},e._id)})]},e._id)},e._id)}function R(e){var t=e.issues;return Object(l.jsx)("div",{className:"public-issue-list",children:t.map((function(e){return Object(n.createElement)(B,Object(d.a)(Object(d.a)({},e),{},{key:e._id}))}))})}function q(){var e=Object(n.useContext)(I),t=e.issueState,s=e.issues,c=e.userIssues,o=e.comments,i=e.getUserIssues,a=e.getIssues;return Object(n.useEffect)((function(){console.log("useEffect triggered"),i(),a()}),[t]),Object(l.jsxs)("div",{className:"public",children:[Object(l.jsx)("h3",{className:"title-public-page",children:"all users' issues"}),Object(l.jsx)(R,{issues:s,userIssues:c,comments:o})]})}function Z(e){console.log("ProtectedRoute Component props",e);var t=e.token;return console.log("ProtectedRoute Component token",t),t?Object(l.jsx)(r.b,{}):Object(l.jsx)(g,{})}function G(){var e=Object(n.useContext)(f),t=e.token,s=e.logout;return console.log("token from App.js",t),Object(l.jsxs)("div",{className:"app",children:[t&&Object(l.jsx)(u,{logout:s}),Object(l.jsxs)(r.e,{children:[Object(l.jsx)(r.c,{exact:!0,path:"/",element:t?Object(l.jsx)(r.a,{to:"/profile"}):Object(l.jsx)(g,{})}),Object(l.jsxs)(r.c,{element:Object(l.jsx)(Z,{token:t}),children:[Object(l.jsx)(r.c,{path:"/profile",element:Object(l.jsx)(T,{}),navigateTo:"/"}),Object(l.jsx)(r.c,{path:"/public",element:Object(l.jsx)(q,{}),navigateTo:"/"})]})]})]})}s(65);i.a.render(Object(l.jsx)(a.a,{children:Object(l.jsx)(S,{children:Object(l.jsx)(p,{children:Object(l.jsx)(G,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.169bb09d.chunk.js.map